{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Applications/PRINCE/PROJECTS/Hisaab/hisaab-v2/components/InstallPrompt.tsx"],"sourcesContent":["'use client';\nimport { useState, useEffect } from 'react';\nimport { Download, X, CheckCircle, MonitorDown } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nexport default function InstallPrompt() {\n  const [deferredPrompt, setDeferredPrompt] = useState<any>(null);\n  const [isVisible, setIsVisible] = useState(false);\n\n  useEffect(() => {\n    const handler = (e: any) => {\n      e.preventDefault();\n      setDeferredPrompt(e);\n      setTimeout(() => setIsVisible(true), 2000);\n    };\n\n    window.addEventListener('beforeinstallprompt', handler);\n\n    // Development testing fallback: Un-comment to see the UI immediately in dev\n    //  setTimeout(() => setIsVisible(true), 1000);\n\n    return () => window.removeEventListener('beforeinstallprompt', handler);\n  }, []);\n\n  const handleInstall = async () => {\n    if (!deferredPrompt) return;\n    deferredPrompt.prompt();\n    const { outcome } = await deferredPrompt.userChoice;\n    if (outcome === 'accepted') {\n      setDeferredPrompt(null);\n      setIsVisible(false);\n    }\n  };\n\n  const handleDismiss = () => {\n    setIsVisible(false);\n  };\n\n  return (\n    <AnimatePresence>\n      {isVisible && (\n        <motion.div \n          initial={{ y: 50, opacity: 0 }}\n          animate={{ y: 0, opacity: 1 }}\n          exit={{ y: 50, opacity: 0 }}\n          transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\n          className=\"fixed bottom-6 right-6 z-[100] max-w-sm w-full\"\n        >\n          <div className=\"bg-white p-6 rounded-2xl shadow-xl border border-slate-100 relative\">\n            \n            {/* Close Button */}\n            <button \n              onClick={handleDismiss}\n              className=\"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors\"\n            >\n              <X size={20} />\n            </button>\n            \n            <div className=\"flex gap-4\">\n              {/* Icon Box */}\n              <div className=\"flex-shrink-0\">\n                <div className=\"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-[#2b8cee]\">\n                  <MonitorDown size={24} strokeWidth={2} />\n                </div>\n              </div>\n\n              {/* Text Content */}\n              <div className=\"flex-1 pr-6\">\n                <h3 className=\"text-lg font-bold text-slate-900 leading-tight mb-2\">Install Hisab for Desktop</h3>\n                <p className=\"text-sm text-slate-500 leading-relaxed mb-4\">\n                  Experience faster load times and access your shared expenses even when you're offline.\n                </p>\n\n                {/* Features */}\n                <div className=\"flex items-center gap-4 mb-6\">\n                    <div className=\"flex items-center gap-1.5\">\n                      <CheckCircle size={16} className=\"text-green-500 fill-green-500 text-white\" />\n                      <span className=\"text-sm font-medium text-slate-600\">Instant Access</span>\n                    </div>\n                    <div className=\"flex items-center gap-1.5\">\n                      <CheckCircle size={16} className=\"text-green-500 fill-green-500 text-white\" />\n                      <span className=\"text-sm font-medium text-slate-600\">Offline Mode</span>\n                    </div>\n                </div>\n                \n                {/* Actions */}\n                <div className=\"flex items-center gap-4\">\n                  <button \n                    onClick={handleInstall}\n                    className=\"bg-[#2b8cee] hover:bg-[#1a6bb5] text-white px-6 py-2.5 rounded-lg font-bold text-sm shadow-md shadow-blue-500/20 active:scale-95 transition-all flex items-center justify-center gap-2\"\n                  >\n                    <Download size={18} />\n                    Install App\n                  </button>\n                  <button \n                    onClick={handleDismiss}\n                    className=\"text-slate-500 hover:text-slate-700 font-semibold text-sm transition-colors\"\n                  >\n                    Not Now\n                  </button>\n                </div>\n\n              </div>\n            </div>\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;;;AAHA;;;;AAKe,SAAS;;IACtB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yLAAQ,EAAM;IAC1D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yLAAQ,EAAC;IAE3C,IAAA,0LAAS;mCAAC;YACR,MAAM;mDAAU,CAAC;oBACf,EAAE,cAAc;oBAChB,kBAAkB;oBAClB;2DAAW,IAAM,aAAa;0DAAO;gBACvC;;YAEA,OAAO,gBAAgB,CAAC,uBAAuB;YAE/C,4EAA4E;YAC5E,+CAA+C;YAE/C;2CAAO,IAAM,OAAO,mBAAmB,CAAC,uBAAuB;;QACjE;kCAAG,EAAE;IAEL,MAAM,gBAAgB;QACpB,IAAI,CAAC,gBAAgB;QACrB,eAAe,MAAM;QACrB,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,eAAe,UAAU;QACnD,IAAI,YAAY,YAAY;YAC1B,kBAAkB;YAClB,aAAa;QACf;IACF;IAEA,MAAM,gBAAgB;QACpB,aAAa;IACf;IAEA,qBACE,6MAAC,+NAAe;kBACb,2BACC,6MAAC,uNAAM,CAAC,GAAG;YACT,SAAS;gBAAE,GAAG;gBAAI,SAAS;YAAE;YAC7B,SAAS;gBAAE,GAAG;gBAAG,SAAS;YAAE;YAC5B,MAAM;gBAAE,GAAG;gBAAI,SAAS;YAAE;YAC1B,YAAY;gBAAE,MAAM;gBAAU,WAAW;gBAAK,SAAS;YAAG;YAC1D,WAAU;sBAEV,cAAA,6MAAC;gBAAI,WAAU;;kCAGb,6MAAC;wBACC,SAAS;wBACT,WAAU;kCAEV,cAAA,6MAAC,oNAAC;4BAAC,MAAM;;;;;;;;;;;kCAGX,6MAAC;wBAAI,WAAU;;0CAEb,6MAAC;gCAAI,WAAU;0CACb,cAAA,6MAAC;oCAAI,WAAU;8CACb,cAAA,6MAAC,sPAAW;wCAAC,MAAM;wCAAI,aAAa;;;;;;;;;;;;;;;;0CAKxC,6MAAC;gCAAI,WAAU;;kDACb,6MAAC;wCAAG,WAAU;kDAAsD;;;;;;kDACpE,6MAAC;wCAAE,WAAU;kDAA8C;;;;;;kDAK3D,6MAAC;wCAAI,WAAU;;0DACX,6MAAC;gDAAI,WAAU;;kEACb,6MAAC,sPAAW;wDAAC,MAAM;wDAAI,WAAU;;;;;;kEACjC,6MAAC;wDAAK,WAAU;kEAAqC;;;;;;;;;;;;0DAEvD,6MAAC;gDAAI,WAAU;;kEACb,6MAAC,sPAAW;wDAAC,MAAM;wDAAI,WAAU;;;;;;kEACjC,6MAAC;wDAAK,WAAU;kEAAqC;;;;;;;;;;;;;;;;;;kDAK3D,6MAAC;wCAAI,WAAU;;0DACb,6MAAC;gDACC,SAAS;gDACT,WAAU;;kEAEV,6MAAC,yOAAQ;wDAAC,MAAM;;;;;;oDAAM;;;;;;;0DAGxB,6MAAC;gDACC,SAAS;gDACT,WAAU;0DACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYnB;GAxGwB;KAAA"}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":["file:///Applications/PRINCE/PROJECTS/Hisaab/hisaab-v2/components/ServiceWorkerRegister.tsx"],"sourcesContent":["'use client';\nimport { useEffect } from 'react';\n\nexport default function ServiceWorkerRegister() {\n  useEffect(() => {\n    if ('serviceWorker' in navigator && typeof window !== 'undefined') {\n      window.addEventListener('load', function() {\n        navigator.serviceWorker.register('/sw.js').then(\n          function(registration) {\n            console.log('Service Worker registration successful with scope: ', registration.scope);\n          },\n          function(err) {\n            console.log('Service Worker registration failed: ', err);\n          }\n        );\n      });\n    }\n  }, []);\n\n  return null;\n}\n"],"names":[],"mappings":";;;;AACA;;AADA;;AAGe,SAAS;;IACtB,IAAA,0LAAS;2CAAC;YACR,IAAI,mBAAmB,aAAa,+CAAkB,aAAa;gBACjE,OAAO,gBAAgB,CAAC;uDAAQ;wBAC9B,UAAU,aAAa,CAAC,QAAQ,CAAC,UAAU,IAAI;+DAC7C,SAAS,YAAY;gCACnB,QAAQ,GAAG,CAAC,uDAAuD,aAAa,KAAK;4BACvF;;+DACA,SAAS,GAAG;gCACV,QAAQ,GAAG,CAAC,wCAAwC;4BACtD;;oBAEJ;;YACF;QACF;0CAAG,EAAE;IAEL,OAAO;AACT;GAjBwB;KAAA"}}]
}