{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Applications/PRINCE/PROJECTS/Hisaab/hisaab-v2/components/Sidebar.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { LayoutDashboard, UserCircle, Plus, ArrowUpRight, Users, UserPlus, LogOut, Bell, UserCheck } from 'lucide-react';\n\nexport default function Sidebar({ \n  onLogout, \n  onCreateGroup, \n  onJoinGroup, \n  onAddFriend,\n  mobileOpen,\n  setMobileOpen\n}: any) {\n  const pathname = usePathname();\n  const isActive = (path: string) => pathname === path;\n\n  // @ts-ignore\n  const NavItem = ({ to, icon: Icon, label, badge }) => {\n    const active = isActive(to);\n    return (\n      <Link \n        href={to} \n        onClick={() => setMobileOpen && setMobileOpen(false)}\n        className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-semibold transition-all duration-200 ${\n          active \n            ? 'bg-[#2b8cee]/10 text-[#2b8cee]' \n            : 'text-slate-500 hover:bg-slate-50 hover:text-slate-900'\n        }`}\n      >\n        <Icon size={20} />\n        <span className=\"flex-1\">{label}</span>\n        {badge > 0 && (\n          <span className=\"bg-[#2b8cee] text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full\">\n            {badge}\n          </span>\n        )}\n      </Link>\n    );\n  };\n\n  // @ts-ignore\n  const ActionItem = ({ onClick, icon: Icon, label }) => (\n    <button \n      type=\"button\"\n      onClick={() => {\n        if (onClick) onClick();\n        if (setMobileOpen) setMobileOpen(false);\n      }}\n      className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-semibold text-slate-500 hover:bg-slate-50 hover:text-slate-900 transition-all duration-200\"\n    >\n      <Icon size={20} />\n      <span>{label}</span>\n    </button>\n  );\n\n  return (\n    <div className=\"flex flex-col h-full bg-white dark:bg-[#1a2632] dark:border-r dark:border-gray-800\">\n      <div className=\"p-6 flex items-center gap-3 border-b border-transparent lg:border-none\">\n        <div className=\"size-10 flex items-center justify-center\">\n          <img src=\"/icons/icon-192.png\" alt=\"Logo\" className=\"w-full h-full object-contain rounded-xl\" />\n        </div>\n        <span className=\"text-xl font-bold text-slate-900 dark:text-white tracking-tight\">Hisaab</span>\n      </div>\n\n      <nav className=\"flex-1 px-4 space-y-2 overflow-y-auto py-4\">\n        <NavItem to=\"/dashboard\" icon={LayoutDashboard} label=\"Dashboard\" badge={0} />\n        <NavItem to=\"/groups\" icon={Users} label=\"My Groups\" badge={0} />\n        <NavItem to=\"/friends\" icon={UserCheck} label=\"My Friends\" badge={0} />\n        <NavItem to=\"/requests\" icon={Bell} label=\"Requests\" badge={0} />\n        <NavItem to=\"/profile\" icon={UserCircle} label=\"Profile\" badge={0} />\n      </nav>\n\n      <div className=\"p-4 border-t border-slate-100 dark:border-gray-800\">\n        <button \n          type=\"button\"\n          onClick={onLogout} \n          className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-semibold text-red-500 hover:bg-red-50 dark:hover:bg-red-900/10 transition-all duration-200\"\n        >\n          <LogOut size={20} />\n          <span>Sign Out</span>\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;;;;;AAMe,SAAS,QAAQ,EAC9B,QAAQ,EACR,aAAa,EACb,WAAW,EACX,WAAW,EACX,UAAU,EACV,aAAa,EACT;IACJ,MAAM,WAAW,IAAA,iKAAW;IAC5B,MAAM,WAAW,CAAC,OAAiB,aAAa;IAEhD,aAAa;IACb,MAAM,UAAU,CAAC,EAAE,EAAE,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE;QAC/C,MAAM,SAAS,SAAS;QACxB,qBACE,8PAAC,uLAAI;YACH,MAAM;YACN,SAAS,IAAM,iBAAiB,cAAc;YAC9C,WAAW,CAAC,8FAA8F,EACxG,SACI,mCACA,yDACJ;;8BAEF,8PAAC;oBAAK,MAAM;;;;;;8BACZ,8PAAC;oBAAK,WAAU;8BAAU;;;;;;gBACzB,QAAQ,mBACP,8PAAC;oBAAK,WAAU;8BACb;;;;;;;;;;;;IAKX;IAEA,aAAa;IACb,MAAM,aAAa,CAAC,EAAE,OAAO,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,iBAChD,8PAAC;YACC,MAAK;YACL,SAAS;gBACP,IAAI,SAAS;gBACb,IAAI,eAAe,cAAc;YACnC;YACA,WAAU;;8BAEV,8PAAC;oBAAK,MAAM;;;;;;8BACZ,8PAAC;8BAAM;;;;;;;;;;;;IAIX,qBACE,8PAAC;QAAI,WAAU;;0BACb,8PAAC;gBAAI,WAAU;;kCACb,8PAAC;wBAAI,WAAU;kCACb,cAAA,8PAAC;4BAAI,KAAI;4BAAsB,KAAI;4BAAO,WAAU;;;;;;;;;;;kCAEtD,8PAAC;wBAAK,WAAU;kCAAkE;;;;;;;;;;;;0BAGpF,8PAAC;gBAAI,WAAU;;kCACb,8PAAC;wBAAQ,IAAG;wBAAa,MAAM,+PAAe;wBAAE,OAAM;wBAAY,OAAO;;;;;;kCACzE,8PAAC;wBAAQ,IAAG;wBAAU,MAAM,6NAAK;wBAAE,OAAM;wBAAY,OAAO;;;;;;kCAC5D,8PAAC;wBAAQ,IAAG;wBAAW,MAAM,6OAAS;wBAAE,OAAM;wBAAa,OAAO;;;;;;kCAClE,8PAAC;wBAAQ,IAAG;wBAAY,MAAM,0NAAI;wBAAE,OAAM;wBAAW,OAAO;;;;;;kCAC5D,8PAAC;wBAAQ,IAAG;wBAAW,MAAM,gPAAU;wBAAE,OAAM;wBAAU,OAAO;;;;;;;;;;;;0BAGlE,8PAAC;gBAAI,WAAU;0BACb,cAAA,8PAAC;oBACC,MAAK;oBACL,SAAS;oBACT,WAAU;;sCAEV,8PAAC,oOAAM;4BAAC,MAAM;;;;;;sCACd,8PAAC;sCAAK;;;;;;;;;;;;;;;;;;;;;;;AAKhB"}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///Applications/PRINCE/PROJECTS/Hisaab/hisaab-v2/components/AddExpenseModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { X, ChevronDown, Calendar, ArrowRight, Check } from 'lucide-react';\n\ninterface Member {\n  userId: string;\n  name: string;\n  email: string;\n  photoURL?: string;\n}\n\ninterface AddExpenseModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  groupId?: string;\n  members?: Member[];\n  currentUserId?: string;\n  onSave?: (expenseData: any) => void;\n}\n\ntype SplitType = 'equal' | 'custom' | 'percentage' | 'shares';\n\nexport default function AddExpenseModal({ \n  isOpen, \n  onClose, \n  groupId,\n  members = [],\n  currentUserId,\n  onSave\n}: AddExpenseModalProps) {\n  const [type, setType] = useState<'expense' | 'transfer'>('expense');\n  const [amount, setAmount] = useState('');\n  const [description, setDescription] = useState('');\n  const [paidBy, setPaidBy] = useState(currentUserId || '');\n  const [splitType, setSplitType] = useState<SplitType>('equal');\n  const [selectedMembers, setSelectedMembers] = useState<string[]>(members.map(m => m.userId));\n  const [customSplits, setCustomSplits] = useState<Record<string, number>>({});\n  const [showPaidByDropdown, setShowPaidByDropdown] = useState(false);\n  const [showSplitOptions, setShowSplitOptions] = useState(false);\n  const [showMemberSelector, setShowMemberSelector] = useState(false);\n\n  if (!isOpen) return null;\n\n  const handleSubmit = () => {\n    const expenseData = {\n      amount: parseFloat(amount),\n      description,\n      paidBy,\n      splitType,\n      selectedMembers,\n      customSplits: splitType === 'custom' ? customSplits : undefined,\n      groupId,\n      date: new Date()\n    };\n    \n    if (onSave) {\n      onSave(expenseData);\n    }\n    \n    // Reset form\n    setAmount('');\n    setDescription('');\n    setSelectedMembers(members.map(m => m.userId));\n    setCustomSplits({});\n    onClose();\n  };\n\n  const getPaidByMember = () => members.find(m => m.userId === paidBy);\n  \n  const toggleMember = (userId: string) => {\n    setSelectedMembers(prev => \n      prev.includes(userId) \n        ? prev.filter(id => id !== userId)\n        : [...prev, userId]\n    );\n  };\n\n  const calculateSplit = () => {\n    const amt = parseFloat(amount) || 0;\n    const count = selectedMembers.length;\n    \n    if (splitType === 'equal' && count > 0) {\n      return (amt / count).toFixed(2);\n    }\n    return '0.00';\n  };\n\n  const handleCustomSplitChange = (userId: string, value: string) => {\n    setCustomSplits(prev => ({\n      ...prev,\n      [userId]: parseFloat(value) || 0\n    }));\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6\">\n      {/* Backdrop */}\n      <div \n        className=\"absolute inset-0 bg-slate-900/20 dark:bg-black/50 backdrop-blur-md transition-opacity\"\n        onClick={onClose}\n      />\n      \n      {/* Modal Card */}\n      <div className=\"relative w-full max-w-[580px] bg-white/95 dark:bg-[#101922]/95 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 dark:border-white/10 flex flex-col max-h-[90vh] overflow-hidden animate-in fade-in duration-200\">\n        \n        {/* Modal Header */}\n        <div className=\"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-800 flex-shrink-0\">\n          <h3 className=\"text-lg font-semibold text-slate-900 dark:text-white tracking-tight\">Add Expense</h3>\n          <button \n            onClick={onClose}\n            className=\"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors rounded-full p-1 hover:bg-slate-100 dark:hover:bg-slate-800\"\n          >\n            <X size={20} />\n          </button>\n        </div>\n        \n        {/* Modal Body - Scrollable */}\n        <div className=\"flex flex-col p-6 gap-6 overflow-y-auto\">\n          \n          {/* Segmented Control */}\n          <div className=\"bg-slate-100 dark:bg-slate-800 p-1 rounded-lg flex self-center w-full max-w-xs\">\n            <button \n              onClick={() => setType('expense')}\n              className={`flex-1 py-1.5 px-4 rounded-md text-sm font-medium transition-all ${\n                type === 'expense' \n                  ? 'bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white' \n                  : 'text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200'\n              }`}\n            >\n              Expense\n            </button>\n            <button \n              onClick={() => setType('transfer')}\n              className={`flex-1 py-1.5 px-4 rounded-md text-sm font-medium transition-all ${\n                type === 'transfer' \n                  ? 'bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white' \n                  : 'text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200'\n              }`}\n            >\n              Transfer\n            </button>\n          </div>\n          \n          {/* Massive Amount Input */}\n          <div className=\"flex flex-col items-center justify-center py-2\">\n            <label className=\"sr-only\" htmlFor=\"amount\">Amount</label>\n            <div className=\"flex items-baseline text-slate-900 dark:text-white\">\n              <span className=\"text-4xl font-medium text-slate-400 mr-1\">$</span>\n              <input \n                autoFocus\n                className=\"bg-transparent border-none text-6xl font-bold p-0 text-center w-64 focus:ring-0 placeholder-slate-300 dark:placeholder-slate-700 caret-[#2b8cee]\" \n                id=\"amount\" \n                placeholder=\"0.00\" \n                type=\"text\" \n                value={amount}\n                onChange={(e) => setAmount(e.target.value)}\n              />\n            </div>\n          </div>\n          \n          {/* Form Fields */}\n          <div className=\"flex flex-col gap-4\">\n            \n            {/* Description Input */}\n            <div className=\"relative group\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <span className=\"text-slate-400 group-focus-within:text-[#2b8cee] transition-colors\">âœŽ</span>\n              </div>\n              <input \n                className=\"block w-full pl-10 pr-3 py-3 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-800/50 text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-[#2b8cee]/20 focus:border-[#2b8cee] transition-all text-base\" \n                placeholder=\"What is this for?\" \n                type=\"text\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n              />\n            </div>\n            \n            {/* Details Grid */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              \n              {/* Payer Selector */}\n              <div className=\"relative\">\n                <button \n                  onClick={() => setShowPaidByDropdown(!showPaidByDropdown)}\n                  className=\"w-full flex items-center gap-3 px-3 py-2.5 border border-slate-200 dark:border-slate-700 rounded-xl bg-white dark:bg-slate-800/50 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors text-left group\"\n                >\n                  <div className=\"flex -space-x-2 overflow-hidden\">\n                    {getPaidByMember()?.photoURL ? (\n                      <img \n                        src={getPaidByMember()?.photoURL} \n                        alt={getPaidByMember()?.name}\n                        className=\"inline-block h-8 w-8 rounded-full ring-2 ring-white dark:ring-slate-800 object-cover\"\n                      />\n                    ) : (\n                      <div className=\"inline-block h-8 w-8 rounded-full ring-2 ring-white dark:ring-slate-800 bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-sm font-bold\">\n                        {getPaidByMember()?.name?.charAt(0) || 'U'}\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"flex flex-col flex-1 min-w-0\">\n                    <span className=\"text-xs text-slate-500 font-medium group-hover:text-[#2b8cee] transition-colors\">Paid by</span>\n                    <span className=\"text-sm font-semibold text-slate-900 dark:text-white truncate\">\n                      {getPaidByMember()?.userId === currentUserId ? 'You' : getPaidByMember()?.name || 'Select...'}\n                    </span>\n                  </div>\n                  <ChevronDown className=\"text-slate-400 flex-shrink-0\" size={18} />\n                </button>\n                \n                {/* Dropdown */}\n                {showPaidByDropdown && (\n                  <div className=\"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-lg z-10 max-h-60 overflow-y-auto\">\n                    {members.map(member => (\n                      <button\n                        key={member.userId}\n                        onClick={() => {\n                          setPaidBy(member.userId);\n                          setShowPaidByDropdown(false);\n                        }}\n                        className=\"w-full flex items-center gap-3 px-4 py-3 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors\"\n                      >\n                        {member.photoURL ? (\n                          <img src={member.photoURL} alt={member.name} className=\"w-8 h-8 rounded-full object-cover\" />\n                        ) : (\n                          <div className=\"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-sm font-bold\">\n                            {member.name.charAt(0)}\n                          </div>\n                        )}\n                        <div className=\"flex-1 text-left\">\n                          <p className=\"text-sm font-semibold text-slate-900 dark:text-white\">\n                            {member.userId === currentUserId ? 'You' : member.name}\n                          </p>\n                          <p className=\"text-xs text-slate-500\">{member.email}</p>\n                        </div>\n                        {paidBy === member.userId && <Check size={16} className=\"text-[#2b8cee]\" />}\n                      </button>\n                    ))}\n                  </div>\n                )}\n              </div>\n              \n              {/* Date Picker */}\n              <button className=\"flex items-center gap-3 px-3 py-2.5 border border-slate-200 dark:border-slate-700 rounded-xl bg-white dark:bg-slate-800/50 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors text-left group\">\n                <div className=\"h-8 w-8 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-slate-500 dark:text-slate-300 flex-shrink-0\">\n                  <Calendar size={18} />\n                </div>\n                <div className=\"flex flex-col flex-1 min-w-0\">\n                  <span className=\"text-xs text-slate-500 font-medium group-hover:text-[#2b8cee] transition-colors\">Date</span>\n                  <span className=\"text-sm font-semibold text-slate-900 dark:text-white\">Today</span>\n                </div>\n              </button>\n            </div>\n            \n            {/* Split Section */}\n            <div className=\"mt-2\">\n              <div className=\"flex justify-between items-center mb-3 px-1\">\n                <label className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">Split with</label>\n                <div className=\"relative\">\n                  <button \n                    onClick={() => setShowSplitOptions(!showSplitOptions)}\n                    className=\"text-xs font-semibold text-[#2b8cee] hover:text-[#2b8cee]/80 flex items-center gap-1\"\n                  >\n                    {splitType === 'equal' ? 'Split equally' : splitType === 'custom' ? 'Custom amounts' : splitType === 'percentage' ? 'By percentage' : 'By shares'}\n                    <ChevronDown size={14} />\n                  </button>\n                  \n                  {/* Split Type Dropdown */}\n                  {showSplitOptions && (\n                    <div className=\"absolute top-full right-0 mt-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-lg z-10 w-48\">\n                      {(['equal', 'custom', 'percentage', 'shares'] as SplitType[]).map(type => (\n                        <button\n                          key={type}\n                          onClick={() => {\n                            setSplitType(type);\n                            setShowSplitOptions(false);\n                          }}\n                          className=\"w-full text-left px-4 py-2.5 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors flex items-center justify-between\"\n                        >\n                          <span className=\"text-sm font-medium text-slate-900 dark:text-white capitalize\">{type}</span>\n                          {splitType === type && <Check size={14} className=\"text-[#2b8cee]\" />}\n                        </button>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n              \n              {/* Members List */}\n              <div className=\"border border-slate-200 dark:border-slate-700 rounded-xl bg-white dark:bg-slate-800/50 divide-y divide-slate-100 dark:divide-slate-700\">\n                {members.map(member => {\n                  const isSelected = selectedMembers.includes(member.userId);\n                  \n                  // Calculate display amount based on split type\n                  let displayAmount = '0.00';\n                  const amt = parseFloat(amount) || 0;\n                  \n                  if (isSelected && amt > 0) {\n                    if (splitType === 'equal') {\n                      displayAmount = calculateSplit();\n                    } else if (splitType === 'custom') {\n                      displayAmount = (customSplits[member.userId] || 0).toFixed(2);\n                    } else if (splitType === 'percentage') {\n                      const percentage = customSplits[member.userId] || 0;\n                      displayAmount = ((amt * percentage) / 100).toFixed(2);\n                    } else if (splitType === 'shares') {\n                      const memberShares = customSplits[member.userId] || 0;\n                      const totalShares = Object.entries(customSplits)\n                        .filter(([id]) => selectedMembers.includes(id))\n                        .reduce((sum, [, shares]) => sum + shares, 0);\n                      if (totalShares > 0) {\n                        displayAmount = ((amt * memberShares) / totalShares).toFixed(2);\n                      }\n                    }\n                  }\n                  \n                  return (\n                    <div key={member.userId} className=\"flex items-center gap-3 p-3\">\n                      <input\n                        type=\"checkbox\"\n                        checked={isSelected}\n                        onChange={() => toggleMember(member.userId)}\n                        className=\"w-4 h-4 rounded border-slate-300 text-[#2b8cee] focus:ring-[#2b8cee]/20\"\n                      />\n                      {member.photoURL ? (\n                        <img src={member.photoURL} alt={member.name} className=\"w-8 h-8 rounded-full object-cover\" />\n                      ) : (\n                        <div className=\"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-xs font-bold\">\n                          {member.name.charAt(0)}\n                        </div>\n                      )}\n                      <div className=\"flex-1\">\n                        <span className=\"text-sm font-semibold text-slate-900 dark:text-white\">\n                          {member.userId === currentUserId ? 'You' : member.name}\n                        </span>\n                      </div>\n                      \n                      {/* Equal Split - Just show amount */}\n                      {splitType === 'equal' && isSelected && (\n                        <span className=\"text-sm font-semibold text-slate-600 dark:text-slate-400\">${displayAmount}</span>\n                      )}\n                      \n                      {/* Custom Amount Input */}\n                      {splitType === 'custom' && isSelected && (\n                        <div className=\"flex items-center gap-1\">\n                          <span className=\"text-sm text-slate-500\">$</span>\n                          <input\n                            type=\"number\"\n                            step=\"0.01\"\n                            placeholder=\"0.00\"\n                            value={customSplits[member.userId] || ''}\n                            onChange={(e) => handleCustomSplitChange(member.userId, e.target.value)}\n                            className=\"w-20 px-2 py-1 text-sm border border-slate-200 dark:border-slate-600 rounded bg-transparent text-right focus:ring-1 focus:ring-[#2b8cee] focus:border-[#2b8cee]\"\n                          />\n                        </div>\n                      )}\n                      \n                      {/* Percentage Input */}\n                      {splitType === 'percentage' && isSelected && (\n                        <div className=\"flex items-center gap-2\">\n                          <input\n                            type=\"number\"\n                            step=\"0.1\"\n                            min=\"0\"\n                            max=\"100\"\n                            placeholder=\"0\"\n                            value={customSplits[member.userId] || ''}\n                            onChange={(e) => handleCustomSplitChange(member.userId, e.target.value)}\n                            className=\"w-16 px-2 py-1 text-sm border border-slate-200 dark:border-slate-600 rounded bg-transparent text-right focus:ring-1 focus:ring-[#2b8cee] focus:border-[#2b8cee]\"\n                          />\n                          <span className=\"text-sm text-slate-500\">%</span>\n                          <span className=\"text-xs text-slate-400 w-16 text-right\">${displayAmount}</span>\n                        </div>\n                      )}\n                      \n                      {/* Shares Input */}\n                      {splitType === 'shares' && isSelected && (\n                        <div className=\"flex items-center gap-2\">\n                          <input\n                            type=\"number\"\n                            step=\"1\"\n                            min=\"0\"\n                            placeholder=\"0\"\n                            value={customSplits[member.userId] || ''}\n                            onChange={(e) => handleCustomSplitChange(member.userId, e.target.value)}\n                            className=\"w-16 px-2 py-1 text-sm border border-slate-200 dark:border-slate-600 rounded bg-transparent text-right focus:ring-1 focus:ring-[#2b8cee] focus:border-[#2b8cee]\"\n                          />\n                          <span className=\"text-sm text-slate-500\">shares</span>\n                          <span className=\"text-xs text-slate-400 w-16 text-right\">${displayAmount}</span>\n                        </div>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n              \n              {/* Summary */}\n              {selectedMembers.length > 0 && (\n                <div className=\"flex justify-between items-center px-1\">\n                  <p className=\"text-xs text-slate-500\">\n                    Split among {selectedMembers.length} {selectedMembers.length === 1 ? 'person' : 'people'}\n                  </p>\n                  {splitType === 'percentage' && (\n                    <p className=\"text-xs text-slate-500\">\n                      Total: {Object.entries(customSplits)\n                        .filter(([id]) => selectedMembers.includes(id))\n                        .reduce((sum, [, val]) => sum + (parseFloat(val as any) || 0), 0).toFixed(1)}%\n                    </p>\n                  )}\n                  {splitType === 'shares' && (\n                    <p className=\"text-xs text-slate-500\">\n                      Total shares: {Object.entries(customSplits)\n                        .filter(([id]) => selectedMembers.includes(id))\n                        .reduce((sum, [, val]) => sum + (parseFloat(val as any) || 0), 0)}\n                    </p>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n        \n        {/* Modal Footer */}\n        <div className=\"p-6 pt-2 grid grid-cols-2 gap-4 border-t border-slate-100 dark:border-slate-800 flex-shrink-0\">\n          <button \n            onClick={onClose}\n            className=\"px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 font-semibold text-sm hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors\"\n          >\n            Cancel\n          </button>\n          <button \n            onClick={handleSubmit}\n            disabled={!amount || !description || selectedMembers.length === 0}\n            className=\"px-4 py-3 rounded-xl bg-[#2b8cee] text-white font-semibold text-sm hover:bg-[#2b8cee]/90 transition-colors shadow-lg shadow-[#2b8cee]/20 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            Save Expense\n            <ArrowRight size={18} />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1069, "column": 0}, "map": {"version":3,"sources":["file:///Applications/PRINCE/PROJECTS/Hisaab/hisaab-v2/app/friends/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useAuth } from '../../components/AuthContext';\nimport { useRouter } from 'next/navigation';\nimport Sidebar from '../../components/Sidebar';\nimport AddExpenseModal from '../../components/AddExpenseModal';\nimport { \n  Bell, Plus, Filter, ArrowUpRight, ArrowDownLeft, Grid3x3, List,\n  ChevronDown, CircleDollarSign, User, BellRing, History\n} from 'lucide-react';\n\nexport default function FriendsPage() {\n  const { user, loading, getIdToken, signOut } = useAuth();\n  const router = useRouter();\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const [showExpenseModal, setShowExpenseModal] = useState(false);\n  const [friends, setFriends] = useState<any[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n\n  useEffect(() => {\n    if (user) {\n        fetchFriends();\n    }\n  }, [user]);\n\n  const fetchFriends = async () => {\n      try {\n          const token = await getIdToken();\n          const res = await fetch('/api/friends', {\n              headers: { 'Authorization': `Bearer ${token}` }\n          });\n          const data = await res.json();\n          if (res.ok) {\n            setFriends(data.friends || []);\n          }\n      } catch (e) {\n          console.error(\"Failed to fetch friends\", e);\n      } finally {\n          setIsLoading(false);\n      }\n  };\n\n  // Calculate stats\n  const totalYouOwe = friends\n    .filter(f => f.type === 'borrowed')\n    .reduce((sum, f) => sum + (f.amount || 0), 0);\n  \n  const totalOwedToYou = friends\n    .filter(f => f.type === 'lent')\n    .reduce((sum, f) => sum + (f.amount || 0), 0);\n\n  const peopleYouOwe = friends.filter(f => f.type === 'borrowed').length;\n  const peopleOweYou = friends.filter(f => f.type === 'lent').length;\n\n  if (loading) return <div>Loading...</div>;\n  if (!user) {\n      if (typeof window !== 'undefined') router.push('/');\n      return null;\n  }\n\n  return (\n    <div className=\"flex h-screen bg-[#f6f7f8] dark:bg-[#101922] text-slate-900 dark:text-white overflow-hidden\">\n       {/* Sidebar */}\n       <aside className={`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-[#1a2632] border-r border-slate-200 dark:border-slate-800 transform transition-transform duration-300 ease-in-out md:translate-x-0 md:static md:inset-auto ${mobileOpen ? 'translate-x-0' : '-translate-x-full'}`}>\n          <Sidebar \n            mobileOpen={mobileOpen} \n            setMobileOpen={setMobileOpen}\n            onLogout={signOut}\n            onCreateGroup={() => router.push('/groups/create')}\n            onJoinGroup={() => router.push('/requests')}\n            onAddFriend={() => router.push('/profile')}\n          />\n       </aside>\n\n       {mobileOpen && (\n         <div \n           className=\"fixed inset-0 bg-black/50 z-40 md:hidden\"\n           onClick={() => setMobileOpen(false)}\n         />\n       )}\n\n       {/* Main Content */}\n       <main className=\"flex-1 overflow-y-auto bg-[#f6f7f8] dark:bg-[#101922] p-6 md:p-10\">\n            <div className=\"mx-auto max-w-6xl flex flex-col gap-8\">\n                \n                {/* Page Heading & Actions */}\n                <div className=\"flex flex-col md:flex-row md:items-end justify-between gap-4\">\n                    <div className=\"flex flex-col gap-1\">\n                        <h2 className=\"text-3xl md:text-4xl font-black tracking-tight text-slate-900 dark:text-white\">Direct Splits</h2>\n                        <p className=\"text-slate-500 dark:text-slate-400 text-base\">Manage your 1-on-1 expenses and balances</p>\n                    </div>\n                    <button \n                        onClick={() => setShowExpenseModal(true)}\n                        className=\"flex items-center justify-center gap-2 rounded-lg bg-[#2b8cee] hover:bg-[#2b8cee]/90 transition-colors text-white px-5 py-2.5 text-sm font-bold shadow-lg shadow-[#2b8cee]/20\"\n                    >\n                        <Plus size={20} />\n                        <span>New Split</span>\n                    </button>\n                </div>\n\n                {/* Stats Summary */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div className=\"flex flex-col gap-1 rounded-xl bg-white dark:bg-[#15202b] p-6 shadow-sm border border-slate-200 dark:border-slate-800\">\n                        <div className=\"flex items-center justify-between\">\n                            <p className=\"text-slate-500 dark:text-slate-400 text-sm font-medium uppercase tracking-wider\">Total you owe</p>\n                            <div className=\"rounded-full bg-red-100 dark:bg-red-900/30 p-1.5 text-red-600 dark:text-red-400\">\n                                <ArrowUpRight size={20} />\n                            </div>\n                        </div>\n                        <p className=\"text-3xl font-bold text-slate-900 dark:text-white mt-2\">${totalYouOwe.toFixed(2)}</p>\n                        <p className=\"text-red-500 text-sm font-medium mt-1\">across {peopleYouOwe} {peopleYouOwe === 1 ? 'person' : 'people'}</p>\n                    </div>\n                    \n                    <div className=\"flex flex-col gap-1 rounded-xl bg-white dark:bg-[#15202b] p-6 shadow-sm border border-slate-200 dark:border-slate-800\">\n                        <div className=\"flex items-center justify-between\">\n                            <p className=\"text-slate-500 dark:text-slate-400 text-sm font-medium uppercase tracking-wider\">Total owed to you</p>\n                            <div className=\"rounded-full bg-emerald-100 dark:bg-emerald-900/30 p-1.5 text-emerald-600 dark:text-emerald-400\">\n                                <ArrowDownLeft size={20} />\n                            </div>\n                        </div>\n                        <p className=\"text-3xl font-bold text-slate-900 dark:text-white mt-2\">${totalOwedToYou.toFixed(2)}</p>\n                        <p className=\"text-emerald-600 dark:text-emerald-400 text-sm font-medium mt-1\">across {peopleOweYou} {peopleOweYou === 1 ? 'person' : 'people'}</p>\n                    </div>\n                </div>\n\n                {/* Filters & Controls */}\n                <div className=\"flex flex-wrap items-center gap-3 border-b border-slate-200 dark:border-slate-800 pb-6\">\n                    <button className=\"flex h-9 items-center gap-2 rounded-lg bg-white dark:bg-[#15202b] border border-slate-200 dark:border-slate-700 px-3 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors\">\n                        <Filter size={18} className=\"text-slate-500\" />\n                        <span className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">Status: All</span>\n                        <ChevronDown size={18} className=\"text-slate-400\" />\n                    </button>\n                    \n                    <button className=\"flex h-9 items-center gap-2 rounded-lg bg-white dark:bg-[#15202b] border border-slate-200 dark:border-slate-700 px-3 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors\">\n                        <Filter size={18} className=\"text-slate-500\" />\n                        <span className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">Sort: Date</span>\n                        <ChevronDown size={18} className=\"text-slate-400\" />\n                    </button>\n                    \n                    <div className=\"ml-auto flex items-center bg-white dark:bg-[#15202b] border border-slate-200 dark:border-slate-700 rounded-lg p-1\">\n                        <button \n                            onClick={() => setViewMode('grid')}\n                            className={`p-1 rounded ${viewMode === 'grid' ? 'bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white' : 'text-slate-400 hover:text-slate-600 dark:hover:text-slate-200'}`}\n                        >\n                            <Grid3x3 size={20} />\n                        </button>\n                        <button \n                            onClick={() => setViewMode('list')}\n                            className={`p-1 rounded ${viewMode === 'list' ? 'bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white' : 'text-slate-400 hover:text-slate-600 dark:hover:text-slate-200'}`}\n                        >\n                            <List size={20} />\n                        </button>\n                    </div>\n                </div>\n\n                {/* Grid of Splits */}\n                {friends.length === 0 && !isLoading ? (\n                    <div className=\"flex flex-col items-center justify-center py-20 text-center\">\n                        <User size={48} className=\"text-slate-300 mb-4\" />\n                        <p className=\"text-slate-500\">No friends yet. Start by adding a friend!</p>\n                    </div>\n                ) : (\n                    <div className={`grid ${viewMode === 'grid' ? 'grid-cols-1 md:grid-cols-2 xl:grid-cols-3' : 'grid-cols-1'} gap-6`}>\n                        {friends.map((friend) => {\n                            const isBorrowed = friend.type === 'borrowed';\n                            const isSettled = friend.status === 'Settled' || friend.status === 'Archived';\n                            \n                            return (\n                                <div \n                                    key={friend.id} \n                                    className={`group relative flex flex-col justify-between rounded-xl bg-white dark:bg-[#15202b] p-5 shadow-sm border border-slate-200 dark:border-slate-800 hover:shadow-md hover:border-[#2b8cee]/50 transition-all ${isSettled ? 'opacity-80 hover:opacity-100' : ''}`}\n                                >\n                                    {/* Header */}\n                                    <div className=\"flex items-start justify-between gap-3 mb-4\">\n                                        <div className=\"flex items-center gap-3 min-w-0 flex-1\">\n                                            {friend.photoURL ? (\n                                                <img \n                                                    src={friend.photoURL} \n                                                    alt={friend.name}\n                                                    className={`h-12 w-12 flex-shrink-0 rounded-full object-cover border border-slate-100 dark:border-slate-700 ${isSettled ? 'grayscale' : ''}`}\n                                                />\n                                            ) : (\n                                                <div className={`h-12 w-12 flex-shrink-0 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-sm font-bold border border-slate-100 dark:border-slate-700 ${isSettled ? 'grayscale' : ''}`}>\n                                                    {friend.name?.charAt(0) || 'U'}\n                                                </div>\n                                            )}\n                                            <div className=\"min-w-0 flex-1\">\n                                                <h3 className=\"font-bold text-slate-900 dark:text-white leading-tight truncate\">{friend.name}</h3>\n                                                <p className=\"text-xs text-slate-500 dark:text-slate-400 mt-0.5 truncate\">\n                                                    {isSettled ? `Settled ${friend.date}` : `Updated ${friend.date}`}\n                                                </p>\n                                            </div>\n                                        </div>\n                                        <span className={`inline-flex items-center flex-shrink-0 rounded-full px-2 py-1 text-xs font-bold whitespace-nowrap ${\n                                            isSettled \n                                                ? 'bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400' \n                                                : isBorrowed\n                                                    ? 'bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400'\n                                                    : 'bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400'\n                                        }`}>\n                                            {isSettled ? 'Settled' : 'Unsettled'}\n                                        </span>\n                                    </div>\n\n                                    {/* Amount Box */}\n                                    <div className=\"bg-slate-50 dark:bg-slate-900/50 rounded-lg p-3 mb-4\">\n                                        <p className={`text-sm ${isSettled ? 'text-slate-500' : 'text-slate-600 dark:text-slate-300'} line-clamp-1`}>\n                                            {friend.category || 'General Expense'}\n                                        </p>\n                                        <div className=\"flex items-baseline gap-1 mt-1\">\n                                            <span className={`text-xs font-medium ${\n                                                isSettled \n                                                    ? 'text-slate-400' \n                                                    : isBorrowed \n                                                        ? 'text-red-500' \n                                                        : 'text-emerald-600 dark:text-emerald-400'\n                                            }`}>\n                                                {isSettled ? 'Paid' : isBorrowed ? 'You owe' : 'Owes you'}\n                                            </span>\n                                            <span className={`text-xl font-bold ${\n                                                isSettled \n                                                    ? 'text-slate-400' \n                                                    : isBorrowed \n                                                        ? 'text-red-600 dark:text-red-500' \n                                                        : 'text-emerald-600 dark:text-emerald-500'\n                                            }`}>\n                                                ${friend.amount?.toFixed(2) || '0.00'}\n                                            </span>\n                                        </div>\n                                    </div>\n\n                                    {/* Actions */}\n                                    <div className=\"flex items-center justify-end gap-2 pt-2 border-t border-slate-100 dark:border-slate-800/50\">\n                                        <button className=\"text-xs font-medium text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white px-3 py-2\">\n                                            {isSettled ? 'History' : 'Details'}\n                                        </button>\n                                        {!isSettled && (\n                                            <button className={`flex items-center gap-1 text-xs font-bold px-3 py-2 rounded-lg transition-colors ${\n                                                isBorrowed\n                                                    ? 'bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/40 text-red-700 dark:text-red-400'\n                                                    : 'bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200'\n                                            }`}>\n                                                {isBorrowed ? (\n                                                    <>\n                                                        <CircleDollarSign size={16} />\n                                                        Settle Up\n                                                    </>\n                                                ) : (\n                                                    <>\n                                                        <BellRing size={16} />\n                                                        Remind\n                                                    </>\n                                                )}\n                                            </button>\n                                        )}\n                                    </div>\n                                </div>\n                            );\n                        })}\n                    </div>\n                )}\n\n                {/* Empty Space for scroll padding */}\n                <div className=\"h-10\"></div>\n            </div>\n\n            {/* Add Expense Modal */}\n            <AddExpenseModal \n                isOpen={showExpenseModal} \n                onClose={() => setShowExpenseModal(false)} \n            />\n       </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}